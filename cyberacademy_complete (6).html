<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberAcademy - Modo Academia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #1e3c72 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255,255,255,0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .progress-bar {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .skill {
            margin: 15px 0;
        }

        .skill-name {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .skill-bar {
            background: #333;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
        }

        .skill-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00ff88);
            transition: width 0.8s ease;
            border-radius: 6px;
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .module {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255,255,255,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .module:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-color: #00ff88;
        }

        .module.completed {
            border-color: #00ff88;
            background: linear-gradient(145deg, rgba(0,255,136,0.2), rgba(0,255,136,0.1));
        }

        .module.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .module.locked:hover {
            transform: none;
            border-color: rgba(255,255,255,0.1);
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .module-icon {
            font-size: 2.5em;
        }

        .module-status {
            font-size: 1.5em;
        }

        .module-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .module-description {
            color: #ddd;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .module-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: #aaa;
        }

        .lesson-area {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            display: none;
        }

        .lesson-area.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lesson-content {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .objectives {
            background: rgba(0,100,200,0.2);
            border-left: 4px solid #0066cc;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .nist-framework {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .nist-phases {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .nist-phase {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nist-phase:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .case-study {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid #fff;
        }

        .quiz {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }

        .quiz-question {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin: 15px 0;
        }

        .quiz-option {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #00ff88;
            background: rgba(0,255,136,0.1);
        }

        .quiz-option.correct {
            border-color: #00ff88;
            background: rgba(0,255,136,0.2);
        }

        .quiz-option.incorrect {
            border-color: #ff4444;
            background: rgba(255,68,68,0.2);
        }

        .btn {
            background: linear-gradient(45deg, #00b894, #00a085);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,184,148,0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .navigation {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .threat-actor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .threat-actor {
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .threat-actor:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .crisis-phase {
            background: linear-gradient(45deg, #34495e, #2c3e50);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #e74c3c;
        }

        .simulation {
            background: linear-gradient(45deg, #d35400, #e67e22);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 3px solid #fff;
        }

        .diplomacy-framework {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
            }
            .nist-phases {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéì CyberAcademy</h1>
        <p>Forma√ß√£o Completa em Ciberseguran√ßa e Gest√£o de Crises</p>
    </div>

    <div class="container">
        <!-- BARRA DE PROGRESSO -->
        <div class="progress-bar">
            <h3>üìä Seu Progresso Geral</h3>
            
            <div class="skill">
                <div class="skill-name">
                    <span>Framework NIST</span>
                    <span id="nist-progress">85%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-fill" style="width: 85%"></div>
                </div>
            </div>
            
            <div class="skill">
                <div class="skill-name">
                    <span>An√°lise de Vieses</span>
                    <span id="biases-progress">75%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-fill" style="width: 75%"></div>
                </div>
            </div>
            
            <div class="skill">
                <div class="skill-name">
                    <span>Threat Actors & APTs</span>
                    <span id="threat-progress">45%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-fill" style="width: 45%"></div>
                </div>
            </div>

            <div class="skill">
                <div class="skill-name">
                    <span>Gest√£o de Crises</span>
                    <span id="crisis-progress">60%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-fill" style="width: 60%"></div>
                </div>
            </div>

            <div class="skill">
                <div class="skill-name">
                    <span>Diplomacia Digital</span>
                    <span id="diplomacy-progress">30%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-fill" style="width: 30%"></div>
                </div>
            </div>
        </div>

        <!-- GRID DE M√ìDULOS -->
        <div class="modules-grid">
            <div class="module completed" onclick="openModule('foundations')">
                <div class="module-header">
                    <span class="module-icon">üèóÔ∏è</span>
                    <span class="module-status">‚úÖ</span>
                </div>
                <div class="module-title">Fundamentos de Ciberseguran√ßa</div>
                <div class="module-description">
                    Conceitos essenciais, terminologia, e panorama de amea√ßas. 
                    Base s√≥lida para todos os m√≥dulos avan√ßados.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 2h 30min</span>
                    <span>üìö 5 li√ß√µes</span>
                    <span>üß™ 5 exerc√≠cios</span>
                </div>
            </div>

            <div class="module completed" onclick="openModule('nist')">
                <div class="module-header">
                    <span class="module-icon">üèõÔ∏è</span>
                    <span class="module-status">‚úÖ</span>
                </div>
                <div class="module-title">NIST Cybersecurity Framework</div>
                <div class="module-description">
                    Domine o framework mais usado mundialmente: Identify, Protect, 
                    Detect, Respond, Recover com casos pr√°ticos.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 3h 45min</span>
                    <span>üìö 8 li√ß√µes</span>
                    <span>üß™ 8 exerc√≠cios</span>
                </div>
            </div>

            <div class="module completed" onclick="openModule('biases')">
                <div class="module-header">
                    <span class="module-icon">üß†</span>
                    <span class="module-status">‚úÖ</span>
                </div>
                <div class="module-title">Psicologia da Ciberseguran√ßa</div>
                <div class="module-description">
                    Entenda como vieses cognitivos afetam decis√µes cr√≠ticas. 
                    Treinamento baseado em Kahneman e Heuer Jr.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 4h 15min</span>
                    <span>üìö 12 li√ß√µes</span>
                    <span>üß™ 12 exerc√≠cios</span>
                </div>
            </div>

            <div class="module" onclick="openModule('threats')">
                <div class="module-header">
                    <span class="module-icon">üïµÔ∏è</span>
                    <span class="module-status">üìñ</span>
                </div>
                <div class="module-title">Threat Actors & APTs</div>
                <div class="module-description">
                    An√°lise profunda de grupos como APT29, Lazarus, FIN7. 
                    T√°ticas, t√©cnicas e procedimentos (TTPs) dos principais atores.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 5h 30min</span>
                    <span>üìö 22 li√ß√µes</span>
                    <span>üß™ 15 exerc√≠cios</span>
                </div>
            </div>

            <div class="module" onclick="openModule('crisis')">
                <div class="module-header">
                    <span class="module-icon">üö®</span>
                    <span class="module-status">üìñ</span>
                </div>
                <div class="module-title">Gest√£o de Crises Cibern√©ticas</div>
                <div class="module-description">
                    Metodologias de resposta a incidentes, comunica√ß√£o de crise, 
                    coordena√ß√£o com autoridades e m√≠dia.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 6h 00min</span>
                    <span>üìö 25 li√ß√µes</span>
                    <span>üß™ 20 exerc√≠cios</span>
                </div>
            </div>

            <div class="module" onclick="openModule('diplomacy')">
                <div class="module-header">
                    <span class="module-icon">üåç</span>
                    <span class="module-status">üìñ</span>
                </div>
                <div class="module-title">Diplomacia & Geopol√≠tica Digital</div>
                <div class="module-description">
                    Manual de Tallinn, coopera√ß√£o internacional, normas cibern√©ticas, 
                    e estrat√©gia geopol√≠tica no ciberespa√ßo.
                </div>
                <div class="module-stats">
                    <span>‚è±Ô∏è 4h 45min</span>
                    <span>üìö 20 li√ß√µes</span>
                    <span>üß™ 10 exerc√≠cios</span>
                </div>
            </div>
        </div>

        <!-- √ÅREA DE LI√á√ïES -->
        <div class="lesson-area" id="lessonArea">
            <!-- Conte√∫do das li√ß√µes ser√° inserido aqui -->
        </div>
    </div>

    <script>
        // Estado global da academia
        let currentModule = '';
        let currentLessonIndex = 0;
        let studentProgress = {
            foundations: { completed: true, score: 92 },
            nist: { completed: true, score: 88 },
            biases: { completed: true, score: 85 },
            threats: { completed: false, score: 0 },
            crisis: { completed: false, score: 0 },
            diplomacy: { completed: false, score: 0 }
        };

        function openModule(moduleId) {
            const lessonArea = document.getElementById('lessonArea');
            currentModule = moduleId;
            currentLessonIndex = 0;
            
            switch(moduleId) {
                case 'foundations':
                    showFoundationsLesson();
                    break;
                case 'nist':
                    showNISTLesson();
                    break;
                case 'biases':
                    showBiasesLesson();
                    break;
                case 'threats':
                    showThreatsLesson();
                    break;
                case 'crisis':
                    showCrisisLesson();
                    break;
                case 'diplomacy':
                    showDiplomacyLesson();
                    break;
            }
            
            lessonArea.classList.add('active');
            lessonArea.scrollIntoView({ behavior: 'smooth' });
        }

        // M√ìDULO: FUNDAMENTOS
        function showFoundationsLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üèóÔ∏è Fundamentos de Ciberseguran√ßa - Li√ß√£o 1/5</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Compreender a evolu√ß√£o das amea√ßas cibern√©ticas</li>
                            <li>Identificar marcos hist√≥ricos da ciberseguran√ßa</li>
                            <li>Analisar o impacto de ataques hist√≥ricos</li>
                        </ul>
                    </div>
                    
                    <h3>üìö Hist√≥ria da Ciberseguran√ßa</h3>
                    
                    <div class="case-study">
                        <h3>1988 - Morris Worm: O Primeiro Grande Ataque</h3>
                        <p><strong>O que aconteceu:</strong> Robert Morris Jr. criou um worm que infectou 10% de todos os computadores conectados √† internet (cerca de 6.000 m√°quinas).</p>
                        <p><strong>Impacto:</strong> Primeira demonstra√ß√£o real da vulnerabilidade da internet</p>
                        <p><strong>Li√ß√£o:</strong> Necessidade de protocolos de seguran√ßa e resposta a incidentes</p>
                    </div>

                    <div class="case-study">
                        <h3>2010 - Stuxnet: Guerra Cibern√©tica se Torna Real</h3>
                        <p><strong>O que aconteceu:</strong> Malware sofisticado destruiu centr√≠fugas nucleares iranianas</p>
                        <p><strong>Significado:</strong> Primeira arma cibern√©tica a causar danos f√≠sicos reais</p>
                        <p><strong>Impacto:</strong> In√≠cio da era da guerra cibern√©tica entre na√ß√µes</p>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Exerc√≠cio 1/5 - Hist√≥ria da Ciberseguran√ßa</h3>
                        <div class="quiz-question">
                            <h4>Qual evento marcou o in√≠cio da ciberseguran√ßa moderna?</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'WannaCry foi em 2017, muito depois do in√≠cio da ciberseguran√ßa moderna.')">WannaCry Ransomware (2017)</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! O Morris Worm de 1988 foi o primeiro grande ataque que demonstrou a vulnerabilidade da internet.')">Morris Worm (1988)</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Stuxnet foi importante, mas veio depois do Morris Worm.')">Stuxnet (2010)</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextFoundationsLesson()">‚û§ Pr√≥xima Li√ß√£o (2/5)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        function nextFoundationsLesson() {
            currentLessonIndex++;
            
            if (currentLessonIndex === 1) {
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèóÔ∏è Fundamentos de Ciberseguran√ßa - Li√ß√£o 2/5</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Classificar diferentes tipos de amea√ßas cibern√©ticas</li>
                                <li>Entender motiva√ß√µes dos atacantes</li>
                                <li>Identificar indicadores de cada tipo de amea√ßa</li>
                            </ul>
                        </div>
                        
                        <h3>üéØ Taxonomia de Threat Actors</h3>
                        
                        <div class="nist-framework">
                            <h3>Classifica√ß√£o por Motiva√ß√£o</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üèõÔ∏è Nation-State</h4>
                                    <p>Espionagem<br>Sabotagem<br>Influ√™ncia Pol√≠tica<br>Guerra Cibern√©tica</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üí∞ Criminosos</h4>
                                    <p>Ransomware<br>Fraude Financeira<br>Roubo de Dados<br>Criptomoedas</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üé≠ Hacktivistas</h4>
                                    <p>Protesto Digital<br>Vazamentos<br>DDoS Pol√≠tico<br>Desfigura√ß√£o</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üë§ Insider Threats</h4>
                                    <p>Funcion√°rios<br>Terceirizados<br>Ex-funcion√°rios<br>Acesso Privilegiado</p>
                                </div>
                            </div>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 2/5 - Classifica√ß√£o de Amea√ßas</h3>
                            <div class="quiz-question">
                                <h4>Um grupo que rouba dados para vender no mercado negro √© classificado como:</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Nation-State tem motiva√ß√µes pol√≠ticas/estrat√©gicas, n√£o comerciais.')">Nation-State</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Criminosos s√£o motivados por lucro financeiro.')">Criminosos</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Hacktivistas t√™m motiva√ß√µes ideol√≥gicas, n√£o comerciais.')">Hacktivistas</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextFoundationsLesson()">‚û§ Pr√≥xima Li√ß√£o (3/5)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 2) {
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèóÔ∏è Fundamentos de Ciberseguran√ßa - Li√ß√£o 3/5</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Identificar principais vetores de ataque</li>
                                <li>Entender como ataques se propagam</li>
                                <li>Reconhecer sinais de comprometimento</li>
                            </ul>
                        </div>

                        <h3>üîì Principais Vetores de Ataque</h3>

                        <div class="case-study">
                            <h3>üìß Phishing & Business Email Compromise (BEC)</h3>
                            <p><strong>Estat√≠stica:</strong> 91% de todos os ataques come√ßam com phishing</p>
                            <h4>Indicadores de phishing:</h4>
                            <ul>
                                <li>Remetente suspeito ou dom√≠nio similar (exemplo: gmai1.com)</li>
                                <li>Urg√™ncia artificial ("Sua conta ser√° bloqueada!")</li>
                                <li>Links que n√£o correspondem ao texto</li>
                                <li>Anexos inesperados (.exe, .zip, .docm)</li>
                            </ul>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 3/5 - Identifica√ß√£o de Vetores</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio de An√°lise</h4>
                                <p>Funcion√°rio recebeu email "urgente" do CEO pedindo transfer√™ncia de R$ 50.000.</p>
                                <p>Email veio de: ceo@empressa.com (note o 's' duplo)</p>
                                <p>Funcion√°rio quase transferiu o dinheiro!</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Que tipo de ataque foi este?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Ransomware criptografa arquivos, n√£o solicita transfer√™ncias.')">Ransomware financeiro</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! BEC/CEO Fraud usa engenharia social para solicitar transfer√™ncias.')">Business Email Compromise (BEC) / CEO Fraud</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'N√£o havia anexo malicioso neste caso.')">Malware via anexo</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextFoundationsLesson()">‚û§ Pr√≥xima Li√ß√£o (4/5)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 3) {
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèóÔ∏è Fundamentos de Ciberseguran√ßa - Li√ß√£o 4/5</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Classificar controles de seguran√ßa por fun√ß√£o</li>
                                <li>Implementar defesa em profundidade</li>
                                <li>Entender conceitos de Zero Trust</li>
                            </ul>
                        </div>

                        <h3>üõ°Ô∏è Controles de Seguran√ßa</h3>

                        <div class="nist-framework">
                            <h3>Classifica√ß√£o por Fun√ß√£o</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üöß PREVENTIVOS</h4>
                                    <p>Firewall<br>Antiv√≠rus<br>Controle de Acesso<br>Criptografia</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üö® DETECTIVOS</h4>
                                    <p>SIEM<br>IDS/IPS<br>Logs<br>Monitoramento</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîß CORRETIVOS</h4>
                                    <p>Backup<br>Plano de Conting√™ncia<br>Patches<br>Isolamento</p>
                                </div>
                            </div>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 4/5 - Classifica√ß√£o de Controles</h3>
                            <div class="quiz-question">
                                <h4>Um sistema SIEM que detecta atividades an√¥malas √© classificado como:</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Preventivos impedem ataques antes que aconte√ßam.')">Controle Preventivo</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! SIEM detecta atividades suspeitas ap√≥s elas ocorrerem.')">Controle Detectivo</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Corretivos respondem depois que problemas s√£o identificados.')">Controle Corretivo</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextFoundationsLesson()">‚û§ Li√ß√£o Final (5/5)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 4) {
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèóÔ∏è Fundamentos de Ciberseguran√ßa - Li√ß√£o 5/5</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Entender processo de gest√£o de riscos cibern√©ticos</li>
                                <li>Calcular riscos quantitativos e qualitativos</li>
                                <li>Desenvolver estrat√©gias de tratamento de risco</li>
                            </ul>
                        </div>

                        <h3>‚öñÔ∏è Gest√£o de Riscos Cibern√©ticos</h3>

                        <div class="case-study">
                            <h3>üìä F√≥rmula B√°sica de Risco</h3>
                            <p><strong>RISCO = PROBABILIDADE √ó IMPACTO</strong></p>
                            <h4>Componentes:</h4>
                            <ul>
                                <li><strong>Ativo:</strong> O que precisa ser protegido</li>
                                <li><strong>Amea√ßa:</strong> O que pode causar dano</li>
                                <li><strong>Vulnerabilidade:</strong> Fraqueza que pode ser explorada</li>
                                <li><strong>Impacto:</strong> Consequ√™ncia se o risco se materializar</li>
                            </ul>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio Final 5/5 - C√°lculo de Risco</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: E-commerce</h4>
                                <p><strong>Ativo:</strong> Sistema de vendas (valor: R$ 5 milh√µes/ano)</p>
                                <p><strong>Amea√ßa:</strong> DDoS que pode derrubar site</p>
                                <p><strong>Probabilidade:</strong> 20% ao ano</p>
                                <p><strong>Impacto:</strong> 10% da receita anual</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual o risco anual quantitativo (ALE)?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Seria apenas o impacto, sem considerar a probabilidade.')">R$ 500.000</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! 20% √ó 10% √ó R$ 5M = R$ 100.000')">R$ 100.000 (20% √ó 10% √ó R$ 5M)</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Seria apenas a probabilidade aplicada ao valor total.')">R$ 1.000.000</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="completeFoundationsModule()">üèÜ Concluir M√≥dulo</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            }
        }

        // M√ìDULO: NIST FRAMEWORK
        function showNISTLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üèõÔ∏è NIST Cybersecurity Framework - Li√ß√£o 1/8</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Compreender a estrutura dos 5 pilares do NIST</li>
                            <li>Aplicar o framework em cen√°rios reais</li>
                            <li>Relacionar NIST com casos de estudo famosos</li>
                        </ul>
                    </div>

                    <div class="nist-framework">
                        <h3>üèõÔ∏è Os 5 Pilares do NIST Framework</h3>
                        <div class="nist-phases">
                            <div class="nist-phase">
                                <h4>üîç IDENTIFY</h4>
                                <p>Gest√£o de Ativos<br>Ambiente de Neg√≥cios<br>Governan√ßa<br>Avalia√ß√£o de Riscos</p>
                            </div>
                            <div class="nist-phase">
                                <h4>üõ°Ô∏è PROTECT</h4>
                                <p>Controles de Acesso<br>Conscientiza√ß√£o<br>Seguran√ßa de Dados<br>Manuten√ß√£o</p>
                            </div>
                            <div class="nist-phase">
                                <h4>üö® DETECT</h4>
                                <p>Anomalias e Eventos<br>Monitoramento<br>Processos de Detec√ß√£o</p>
                            </div>
                            <div class="nist-phase">
                                <h4>‚ö° RESPOND</h4>
                                <p>Planejamento de Resposta<br>Comunica√ß√µes<br>An√°lise<br>Mitiga√ß√£o</p>
                            </div>
                            <div class="nist-phase">
                                <h4>üîÑ RECOVER</h4>
                                <p>Planejamento de Recupera√ß√£o<br>Melhorias<br>Comunica√ß√µes</p>
                            </div>
                        </div>
                    </div>

                    <div class="case-study">
                        <h3>üìö Caso de Estudo: WannaCry & NIST</h3>
                        <p><strong>Cen√°rio:</strong> Em maio de 2017, o ransomware WannaCry infectou mais de 300.000 computadores em 150+ pa√≠ses.</p>
                        
                        <h4>An√°lise NIST:</h4>
                        <ul>
                            <li><strong>IDENTIFY:</strong> Muitas organiza√ß√µes n√£o tinham invent√°rio completo de sistemas</li>
                            <li><strong>PROTECT:</strong> Patches de seguran√ßa n√£o aplicados (MS17-010)</li>
                            <li><strong>DETECT:</strong> Sistemas de detec√ß√£o n√£o identificaram propaga√ß√£o inicial</li>
                            <li><strong>RESPOND:</strong> Planos de resposta inadequados, comunica√ß√£o ca√≥tica</li>
                            <li><strong>RECOVER:</strong> Backups inexistentes ou comprometidos</li>
                        </ul>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Exerc√≠cio 1/8 - Pilares NIST</h3>
                        <div class="quiz-question">
                            <h4>Em uma crise, qual deve ser a PRIMEIRA fase do NIST a ser aplicada?</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'PROTECT √© importante, mas antes precisamos entender o que estamos protegendo.')">PROTECT - Isolar sistemas imediatamente</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Sem IDENTIFY n√£o sabemos o escopo do problema.')">IDENTIFY - Mapear o escopo do incidente</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'RESPOND vem depois de identificar e detectar o problema.')">RESPOND - Ativar equipe de resposta</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (2/8)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        // M√ìDULO: PSICOLOGIA/VIESES
        function showBiasesLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üß† Psicologia da Ciberseguran√ßa - Li√ß√£o 1/12</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Identificar os vieses mais perigosos em ciberseguran√ßa</li>
                            <li>Compreender como vieses afetam tomada de decis√£o</li>
                            <li>Desenvolver t√©cnicas para mitigar vieses cognitivos</li>
                        </ul>
                    </div>
                    
                    <h3>üß† Os Vieses Mais Perigosos</h3>

                    <div class="case-study">
                        <h3>‚ö° Vi√©s de Urg√™ncia</h3>
                        <p><strong>Defini√ß√£o:</strong> Tomar decis√µes precipitadas sob press√£o temporal</p>
                        <p><strong>Exemplo:</strong> Autorizar contramedidas com apenas 40% de certeza na atribui√ß√£o</p>
                        <p><strong>Solu√ß√£o:</strong> Protocolo "Pausa de 60 segundos" mesmo em crises</p>
                    </div>

                    <div class="case-study">
                        <h3>üîç Vi√©s de Confirma√ß√£o</h3>
                        <p><strong>Defini√ß√£o:</strong> Buscar apenas evid√™ncias que confirmem hip√≥tese inicial</p>
                        <p><strong>Exemplo:</strong> Atribuir ataque √† China e ignorar evid√™ncias de outros atores</p>
                        <p><strong>Solu√ß√£o:</strong> M√©todo ACH (Analysis of Competing Hypotheses)</p>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Laborat√≥rio de Vieses 1/12</h3>
                        <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <h4>Cen√°rio: Vazamento de Dados</h4>
                            <p>√Äs 14h, voc√™ recebe um alerta: "Poss√≠vel exfiltra√ß√£o de dados detectada"</p>
                            <p>Primeira informa√ß√£o: IP de origem parece ser da R√∫ssia</p>
                            <p>Sua equipe imediatamente diz: "√â APT29 de novo!"</p>
                        </div>
                        
                        <div class="quiz-question">
                            <h4>Qual vi√©s est√° mais prov√°vel de ocorrer aqui?</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Urg√™ncia seria decidir muito r√°pido, mas o problema aqui √© mais sutil.')">Vi√©s de Urg√™ncia - decidir muito r√°pido</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! A primeira informa√ß√£o (IP da R√∫ssia) ancora toda a an√°lise subsequente.')">Vi√©s de Ancoragem - fixar na informa√ß√£o R√∫ssia = APT29</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'N√£o √© autoridade, pois a equipe est√° especulando, n√£o seguindo um superior.')">Vi√©s de Autoridade - confiar na equipe sem questionar</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextBiasesLesson()">‚û§ Pr√≥xima Li√ß√£o (2/12)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        // M√ìDULO: THREAT ACTORS & APTs
        function showThreatsLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üïµÔ∏è Threat Actors & APTs - Li√ß√£o 1/22</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Analisar grupos APT mais ativos mundialmente</li>
                            <li>Identificar TTPs (Tactics, Techniques, Procedures)</li>
                            <li>Correlacionar indicadores com grupos espec√≠ficos</li>
                        </ul>
                    </div>

                    <h3>üåç Principais Grupos APT por Regi√£o</h3>

                    <div class="threat-actor-grid">
                        <div class="threat-actor">
                            <h4>üá∑üá∫ APT29 (Cozy Bear)</h4>
                            <p><strong>Sponsor:</strong> SVR (Intelig√™ncia Externa Russa)</p>
                            <p><strong>Alvos:</strong> Governos, Diplomacia</p>
                            <p><strong>TTPs:</strong> Spear-phishing, Living off the Land</p>
                        </div>
                        
                        <div class="threat-actor">
                            <h4>üá®üá≥ APT1 (Comment Crew)</h4>
                            <p><strong>Sponsor:</strong> PLA Unit 61398</p>
                            <p><strong>Alvos:</strong> Propriedade Intelectual</p>
                            <p><strong>TTPs:</strong> RATs personalizados, Exfiltra√ß√£o massiva</p>
                        </div>
                        
                        <div class="threat-actor">
                            <h4>üá∞üáµ Lazarus Group</h4>
                            <p><strong>Sponsor:</strong> Bureau 121 (Coreia do Norte)</p>
                            <p><strong>Alvos:</strong> Bancos, Criptomoedas</p>
                            <p><strong>TTPs:</strong> Destructive malware, SWIFT attacks</p>
                        </div>
                        
                        <div class="threat-actor">
                            <h4>üáÆüá∑ APT33 (Elfin)</h4>
                            <p><strong>Sponsor:</strong> IRGC (Ir√£)</p>
                            <p><strong>Alvos:</strong> Energia, Avia√ß√£o</p>
                            <p><strong>TTPs:</strong> Spear-phishing, Wiper malware</p>
                        </div>
                    </div>

                    <div class="case-study">
                        <h3>üìö Caso de Estudo: SolarWinds (2020)</h3>
                        <p><strong>Atacante:</strong> APT29 (Cozy Bear)</p>
                        <p><strong>M√©todo:</strong> Supply chain attack via update do software Orion</p>
                        <p><strong>Escopo:</strong> 18.000+ organiza√ß√µes infectadas</p>
                        <p><strong>Dura√ß√£o:</strong> 9 meses sem detec√ß√£o</p>
                        <p><strong>T√©cnica Signature:</strong> SUNBURST backdoor com comunica√ß√£o via DNS</p>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Exerc√≠cio 1/22 - Identifica√ß√£o de APT</h3>
                        <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <h4>Cen√°rio de Atribui√ß√£o</h4>
                            <p>Voc√™ detectou um ataque com as seguintes caracter√≠sticas:</p>
                            <ul>
                                <li>Alvo: Sistema banc√°rio SWIFT</li>
                                <li>Malware destrutivo que apaga logs</li>
                                <li>Falsas mensagens SWIFT para roubar US$ 81 milh√µes</li>
                                <li>C√≥digo reutilizado do ataque Sony Pictures</li>
                            </ul>
                        </div>
                        
                        <div class="quiz-question">
                            <h4>Baseado nos TTPs, qual grupo √© mais prov√°vel?</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'APT29 foca em espionagem, n√£o ataques financeiros destrutivos.')">APT29 (Cozy Bear)</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Lazarus √© conhecido por ataques SWIFT e malware destrutivo (Bangladesh Bank heist).')">Lazarus Group</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'APT1 foca em roubo de propriedade intelectual, n√£o ataques financeiros.')">APT1 (Comment Crew)</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextThreatsLesson()">‚û§ Pr√≥xima Li√ß√£o (2/22)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        // M√ìDULO: GEST√ÉO DE CRISES
        function showCrisisLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üö® Gest√£o de Crises Cibern√©ticas - Li√ß√£o 1/25</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Dominar metodologias de resposta a incidentes</li>
                            <li>Coordenar comunica√ß√£o de crise eficaz</li>
                            <li>Gerenciar stakeholders em situa√ß√µes cr√≠ticas</li>
                        </ul>
                    </div>

                    <h3>üîÑ Ciclo de Gest√£o de Crises</h3>

                    <div class="crisis-phase">
                        <h4>üö® FASE 1: DETEC√á√ÉO E AN√ÅLISE</h4>
                        <ul>
                            <li><strong>0-30 min:</strong> Confirma√ß√£o do incidente</li>
                            <li><strong>30-60 min:</strong> Classifica√ß√£o de severidade</li>
                            <li><strong>1-2h:</strong> Ativa√ß√£o da equipe de resposta</li>
                            <li><strong>Entreg√°veis:</strong> Relat√≥rio inicial, Guerra Room ativa</li>
                        </ul>
                    </div>

                    <div class="crisis-phase">
                        <h4>üõ°Ô∏è FASE 2: CONTEN√á√ÉO</h4>
                        <ul>
                            <li><strong>Curto Prazo:</strong> Isolamento imediato</li>
                            <li><strong>M√©dio Prazo:</strong> Backup de evid√™ncias</li>
                            <li><strong>Longo Prazo:</strong> Solu√ß√£o tempor√°ria</li>
                            <li><strong>Entreg√°veis:</strong> Sistemas isolados, Evid√™ncias preservadas</li>
                        </ul>
                    </div>

                    <div class="simulation">
                        <h3>üéÆ SIMULA√á√ÉO: Ransomware na Black Friday</h3>
                        <p><strong>Cen√°rio:</strong> 23h45 da v√©spera da Black Friday</p>
                        <p><strong>Situa√ß√£o:</strong> Ransomware criptografou 80% dos servidores de e-commerce</p>
                        <p><strong>Impacto:</strong> Site fora do ar, R$ 2 milh√µes/hora de perda</p>
                        <p><strong>Demanda:</strong> 50 Bitcoins (‚âà R$ 15 milh√µes)</p>
                        <p><strong>Sua fun√ß√£o:</strong> Gestor de Crise</p>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Exerc√≠cio 1/25 - Decis√£o Cr√≠tica</h3>
                        <div class="quiz-question">
                            <h4>Sua PRIMEIRA a√ß√£o como gestor de crise deve ser:</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Pagar √© arriscado e pode n√£o resolver o problema. N√£o deve ser a primeira a√ß√£o.')">Negociar pagamento do resgate imediatamente</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Sem guerra room n√£o h√° coordena√ß√£o eficaz da resposta.')">Ativar Guerra Room e equipe de resposta</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Importante, mas n√£o a prioridade antes de entender o escopo.')">Comunicar m√≠dia sobre o incidente</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextCrisisLesson()">‚û§ Pr√≥xima Li√ß√£o (2/25)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        // M√ìDULO: DIPLOMACIA & GEOPOL√çTICA
        function showDiplomacyLesson() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üåç Diplomacia & Geopol√≠tica Digital - Li√ß√£o 1/20</h2>
                
                <div class="lesson-content">
                    <div class="objectives">
                        <h3>üéØ Objetivos de Aprendizagem</h3>
                        <ul>
                            <li>Compreender normas internacionais do ciberespa√ßo</li>
                            <li>Analisar o Manual de Tallinn e suas implica√ß√µes</li>
                            <li>Avaliar estrat√©gias geopol√≠ticas no dom√≠nio cibern√©tico</li>
                        </ul>
                    </div>

                    <h3>‚öñÔ∏è Fundamentos do Direito Internacional Cibern√©tico</h3>

                    <div class="diplomacy-framework">
                        <h4>üìö Manual de Tallinn 2.0</h4>
                        <p><strong>O que √©:</strong> An√°lise acad√™mica de como o direito internacional se aplica ao ciberespa√ßo</p>
                        <p><strong>Princ√≠pios-chave:</strong></p>
                        <ul>
                            <li><strong>Soberania:</strong> Estados t√™m soberania sobre sua infraestrutura cibern√©tica</li>
                            <li><strong>Devido Cuidado:</strong> Obriga√ß√£o de n√£o permitir ataques de seu territ√≥rio</li>
                            <li><strong>Proporcionalidade:</strong> Resposta deve ser proporcional ao ataque</li>
                            <li><strong>Atribui√ß√£o:</strong> Necessidade de prova clara antes de retaliar</li>
                        </ul>
                    </div>

                    <div class="case-study">
                        <h3>üåç Caso: Est√¥nia 2007 - Primeiro Conflito Cibern√©tico Internacional</h3>
                        <p><strong>Contexto:</strong> Remo√ß√£o de est√°tua sovi√©tica gera protestos</p>
                        <p><strong>Ataque:</strong> DDoS massivo contra infraestrutura est√¥nia</p>
                        <p><strong>Atribui√ß√£o:</strong> Suspeita de envolvimento russo</p>
                        <p><strong>Resposta:</strong> Est√¥nia invoca Artigo 4 da OTAN</p>
                        <p><strong>Precedente:</strong> Primeiro caso de "guerra cibern√©tica" entre estados</p>
                    </div>

                    <div class="quiz">
                        <h3>üß™ Exerc√≠cio 1/20 - Direito Internacional</h3>
                        <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <h4>Cen√°rio Diplom√°tico</h4>
                            <p>Pa√≠s A sofre ataque cibern√©tico que derruba sistema el√©trico</p>
                            <p>Evid√™ncias apontam para grupo criminoso baseado no Pa√≠s B</p>
                            <p>Pa√≠s B nega conhecimento e n√£o coopera na investiga√ß√£o</p>
                        </div>
                        
                        <div class="quiz-question">
                            <h4>Segundo o Manual de Tallinn, qual princ√≠pio foi violado?</h4>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Soberania √© sobre controle territorial, n√£o sobre coopera√ß√£o.')">Soberania Digital</div>
                                <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Devido Cuidado obriga estados a n√£o permitir ataques de seu territ√≥rio.')">Devido Cuidado (Due Diligence)</div>
                                <div class="quiz-option" onclick="selectAnswer(this, false, 'Proporcionalidade se aplica √† resposta, n√£o ao ataque inicial.')">Proporcionalidade</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="nextDiplomacyLesson()">‚û§ Pr√≥xima Li√ß√£o (2/20)</button>
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        // FUN√á√ïES DE RESPOSTA E NAVEGA√á√ÉO
        function selectAnswer(element, isCorrect, explanation) {
            const options = element.parentNode.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                opt.style.pointerEvents = 'none';
            });
            
            if (isCorrect) {
                element.classList.add('correct');
                setTimeout(() => {
                    alert('‚úÖ Correto! ' + explanation);
                }, 500);
            } else {
                element.classList.add('incorrect');
                setTimeout(() => {
                    alert('‚ùå ' + explanation);
                }, 500);
            }
        }

        function nextNISTLesson() {
            currentLessonIndex++;
            
            if (currentLessonIndex === 1) {
                // Li√ß√£o 2 - IDENTIFY em Profundidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 2/8: IDENTIFY</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Dominar as 6 categorias do pilar IDENTIFY</li>
                                <li>Implementar invent√°rio de ativos eficaz</li>
                                <li>Desenvolver avalia√ß√£o de riscos sistem√°tica</li>
                            </ul>
                        </div>

                        <h3>üîç IDENTIFY - Conhecer Para Proteger</h3>

                        <div class="nist-framework">
                            <h3>6 Categorias do IDENTIFY</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üìã ID.AM</h4>
                                    <p><strong>Asset Management</strong><br>Invent√°rio de HW/SW<br>Classifica√ß√£o de dados<br>Mapeamento de fluxos</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üè¢ ID.BE</h4>
                                    <p><strong>Business Environment</strong><br>Miss√£o cr√≠tica<br>Stakeholders<br>Supply chain</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>‚öñÔ∏è ID.GV</h4>
                                    <p><strong>Governance</strong><br>Pol√≠ticas<br>Compliance<br>Responsabilidades</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üìä ID.RA</h4>
                                    <p><strong>Risk Assessment</strong><br>Identifica√ß√£o de riscos<br>An√°lise de impacto<br>Prioriza√ß√£o</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üéØ ID.RM</h4>
                                    <p><strong>Risk Mgmt Strategy</strong><br>Apetite ao risco<br>Toler√¢ncia<br>Estrat√©gias</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîí ID.SC</h4>
                                    <p><strong>Supply Chain</strong><br>Fornecedores<br>Terceiros<br>Dependencies</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üìö Caso Target (2013): Falha no IDENTIFY</h3>
                            <p><strong>Problema:</strong> Target n√£o sabia que fornecedor HVAC tinha acesso √† rede de pagamentos</p>
                            <h4>Falhas IDENTIFY identificadas:</h4>
                            <ul>
                                <li><strong>ID.AM:</strong> Falta de invent√°rio de conex√µes de rede</li>
                                <li><strong>ID.SC:</strong> Mapeamento inadequado da supply chain</li>
                                <li><strong>ID.RA:</strong> N√£o avaliaram risco de terceiros</li>
                                <li><strong>ID.GV:</strong> Pol√≠ticas insuficientes para fornecedores</li>
                            </ul>
                            <p><strong>Resultado:</strong> 40 milh√µes de cart√µes comprometidos, US$ 292 milh√µes em custos</p>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 2/8 - Mapeamento IDENTIFY</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: Fintech Startup</h4>
                                <p>Voc√™ √© CISO de uma fintech com 50 funcion√°rios</p>
                                <p>Sistemas: API de pagamentos, app mobile, CRM, AWS cloud</p>
                                <p>Problema: Auditoria descobriu servidor "fantasma" rodando h√° 2 anos</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual categoria IDENTIFY foi mais negligenciada?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Asset Management (ID.AM) deveria ter invent√°rio completo de todos os sistemas.')">ID.AM - Asset Management</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Governance √© sobre pol√≠ticas, n√£o sobre descoberta de ativos.')">ID.GV - Governance</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Risk Assessment vem depois de conhecer os ativos.')">ID.RA - Risk Assessment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (3/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 2) {
                // Li√ß√£o 3 - PROTECT em Profundidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 3/8: PROTECT</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Implementar as 6 categorias do PROTECT</li>
                                <li>Desenvolver estrat√©gias de defesa em profundidade</li>
                                <li>Criar programas de conscientiza√ß√£o eficazes</li>
                            </ul>
                        </div>

                        <h3>üõ°Ô∏è PROTECT - Salvaguardas Apropriadas</h3>

                        <div class="nist-framework">
                            <h3>6 Categorias do PROTECT</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üë§ PR.AC</h4>
                                    <p><strong>Identity Mgmt</strong><br>Controle de acesso<br>MFA<br>Least privilege</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üéì PR.AT</h4>
                                    <p><strong>Awareness</strong><br>Treinamento<br>Phishing simulation<br>Security culture</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîê PR.DS</h4>
                                    <p><strong>Data Security</strong><br>Criptografia<br>DLP<br>Backup</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>‚ÑπÔ∏è PR.IP</h4>
                                    <p><strong>Info Protection</strong><br>Baseline configs<br>Change control<br>Secure development</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîß PR.MA</h4>
                                    <p><strong>Maintenance</strong><br>Patch management<br>Remote maintenance<br>Asset disposal</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üõ°Ô∏è PR.PT</h4>
                                    <p><strong>Protective Tech</strong><br>Firewalls<br>Antivirus<br>Network protection</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üìö Caso Equifax (2017): Falha Cr√≠tica no PROTECT</h3>
                            <p><strong>Vulnerabilidade:</strong> Apache Struts CVE-2017-5638</p>
                            <p><strong>Tempo para patch:</strong> 2 meses dispon√≠vel vs 0 aplicado</p>
                            <h4>Falhas PROTECT identificadas:</h4>
                            <ul>
                                <li><strong>PR.MA:</strong> Gest√£o de patches inexistente</li>
                                <li><strong>PR.AC:</strong> Segmenta√ß√£o de rede inadequada</li>
                                <li><strong>PR.DS:</strong> Dados n√£o criptografados</li>
                                <li><strong>PR.PT:</strong> WAF mal configurado</li>
                            </ul>
                            <p><strong>Impacto:</strong> 147 milh√µes de pessoas afetadas</p>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 3/8 - Prioriza√ß√£o PROTECT</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: Or√ßamento Limitado</h4>
                                <p>Voc√™ tem R$ 500.000 para melhorar seguran√ßa</p>
                                <p>Op√ß√µes dispon√≠veis:</p>
                                <ul>
                                    <li>A) Sistema MFA - R$ 100.000</li>
                                    <li>B) Treinamento anti-phishing - R$ 150.000</li>
                                    <li>C) Sistema de backup - R$ 200.000</li>
                                    <li>D) Firewall novo - R$ 300.000</li>
                                </ul>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual combina√ß√£o oferece melhor ROI em seguran√ßa?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Firewall sozinho n√£o cobre outras vulnerabilidades cr√≠ticas.')">D apenas (Firewall)</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! MFA + Treinamento cobrem 90% dos ataques comuns por R$ 250k.')">A + B (MFA + Treinamento)</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Backup √© importante mas n√£o previne ataques iniciais.')">C + A (Backup + MFA)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (4/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 3) {
                // Li√ß√£o 4 - DETECT em Profundidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 4/8: DETECT</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Implementar detec√ß√£o cont√≠nua de anomalias</li>
                                <li>Configurar SIEM eficazmente</li>
                                <li>Reduzir falsos positivos mantendo sensibilidade</li>
                            </ul>
                        </div>

                        <h3>üö® DETECT - Identifica√ß√£o Oportuna</h3>

                        <div class="nist-framework">
                            <h3>3 Categorias do DETECT</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>‚ö†Ô∏è DE.AE</h4>
                                    <p><strong>Anomalies & Events</strong><br>Baseline behavior<br>Event correlation<br>Impact analysis</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üëÄ DE.CM</h4>
                                    <p><strong>Continuous Monitoring</strong><br>Network monitoring<br>Physical monitoring<br>Personnel activity</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîç DE.DP</h4>
                                    <p><strong>Detection Processes</strong><br>Detection testing<br>Event reporting<br>Communication roles</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>‚è∞ Tempos de Detec√ß√£o - Benchmarks da Ind√∫stria</h3>
                            <h4>Tempo m√©dio de detec√ß√£o (MTTD):</h4>
                            <ul>
                                <li><strong>Malware:</strong> 197 dias (Mandiant 2023)</li>
                                <li><strong>Insider threats:</strong> 85 dias</li>
                                <li><strong>Ransomware:</strong> 5 dias</li>
                                <li><strong>APT:</strong> 277 dias</li>
                            </ul>
                            
                            <div style="background: rgba(0,255,136,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <h4>üéØ Meta NIST: Detec√ß√£o em < 24 horas</h4>
                                <p>Organiza√ß√µes com NIST maduro: 18 horas MTTD</p>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üìö Caso Sony Pictures (2014): Detec√ß√£o Tardia</h3>
                            <p><strong>Problema:</strong> Detec√ß√£o apenas quando atacantes divulgaram dados</p>
                            <h4>Sinais perdidos:</h4>
                            <ul>
                                <li>Movimenta√ß√£o lateral por 6 meses</li>
                                <li>Exfiltra√ß√£o de 100+ TB de dados</li>
                                <li>Instala√ß√£o de malware destrutivo</li>
                                <li>Modifica√ß√£o de credenciais administrativas</li>
                            </ul>
                            <p><strong>Li√ß√£o:</strong> DETECT eficaz teria reduzido impacto em 90%</p>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 4/8 - Tuning de Detec√ß√£o</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: SIEM Overwhelmed</h4>
                                <p>Seu SIEM gera 50.000 alertas/dia</p>
                                <p>Equipe consegue investigar apenas 100/dia</p>
                                <p>Rate de falsos positivos: 95%</p>
                                <p>√öltimo ataque real levou 3 semanas para ser detectado</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual estrat√©gia deve ser PRIORIZADA?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Mais analistas n√£o resolve o problema de ru√≠do excessivo.')">Contratar mais analistas SOC</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Foco em detec√ß√µes de alta confian√ßa reduz ru√≠do e melhora efic√°cia.')">Tuning para reduzir falsos positivos</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Mais ferramentas pode aumentar ainda mais o ru√≠do.')">Implementar mais ferramentas de detec√ß√£o</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (5/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 4) {
                // Li√ß√£o 5 - RESPOND em Profundidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 5/8: RESPOND</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Executar resposta coordenada a incidentes</li>
                                <li>Gerenciar comunica√ß√£o de crise eficaz</li>
                                <li>Implementar conten√ß√£o e mitiga√ß√£o r√°pidas</li>
                            </ul>
                        </div>

                        <h3>‚ö° RESPOND - A√ß√£o Apropriada</h3>

                        <div class="nist-framework">
                            <h3>5 Categorias do RESPOND</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üìã RS.RP</h4>
                                    <p><strong>Response Planning</strong><br>Plano de resposta<br>Procedimentos<br>Roles & responsibilities</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üì¢ RS.CO</h4>
                                    <p><strong>Communications</strong><br>Stakeholder comms<br>Law enforcement<br>Media relations</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üî¨ RS.AN</h4>
                                    <p><strong>Analysis</strong><br>Forensics<br>Impact assessment<br>Incident categorization</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üõ°Ô∏è RS.MI</h4>
                                    <p><strong>Mitigation</strong><br>Incident containment<br>Eradication<br>Vulnerability mitigation</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üìà RS.IM</h4>
                                    <p><strong>Improvements</strong><br>Lessons learned<br>Process updates<br>Plan refinement</p>
                                </div>
                            </div>
                        </div>

                        <div class="simulation">
                            <h3>üéÆ SIMULA√á√ÉO: NotPetya Response</h3>
                            <p><strong>Cen√°rio:</strong> Junho 2017 - Malware se espalha globalmente</p>
                            <p><strong>Impacto:</strong> Maersk, FedEx, hospitais ucranianos offline</p>
                            <p><strong>Caracter√≠sticas:</strong> Wiper mascarado de ransomware</p>
                            
                            <h4>‚è∞ Timeline Real:</h4>
                            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>10:30:</strong> Primeiro alerta na Ucr√¢nia</p>
                                <p><strong>11:15:</strong> Espalhamento global confirmado</p>
                                <p><strong>12:00:</strong> Maersk completamente offline</p>
                                <p><strong>13:30:</strong> Identificado como wiper, n√£o ransomware</p>
                            </div>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 5/8 - Decis√£o de Resposta</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Situa√ß√£o: 11:45 - Voc√™ √© CISO da Maersk</h4>
                                <p>75% dos sistemas globais est√£o sendo criptografados</p>
                                <p>Opera√ß√µes portu√°rias param em 76 pa√≠ses</p>
                                <p>Perda: US$ 10 milh√µes por hora</p>
                                <p>Ainda n√£o sabem se √© ransomware ou wiper</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Sua decis√£o de resposta IMEDIATA:</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Investigar demora muito quando sistemas est√£o sendo destru√≠dos ativamente.')">Investigar origem antes de agir</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Conten√ß√£o imediata √© priorit√°ria para parar a propaga√ß√£o.')">Shutdown global de todos os sistemas</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Pagar pode n√£o funcionar se for wiper, e ainda permite propaga√ß√£o.')">Preparar pagamento do resgate</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (6/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 5) {
                // Li√ß√£o 6 - RECOVER em Profundidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 6/8: RECOVER</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Planejar recupera√ß√£o resiliente de opera√ß√µes</li>
                                <li>Implementar comunica√ß√£o p√≥s-incidente</li>
                                <li>Incorporar li√ß√µes aprendidas</li>
                            </ul>
                        </div>

                        <h3>üîÑ RECOVER - Restaura√ß√£o de Servi√ßos</h3>

                        <div class="nist-framework">
                            <h3>3 Categorias do RECOVER</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üìã RC.RP</h4>
                                    <p><strong>Recovery Planning</strong><br>Business continuity<br>Disaster recovery<br>Recovery procedures</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üìà RC.IM</h4>
                                    <p><strong>Improvements</strong><br>Lessons learned<br>Recovery updates<br>Strategy refinement</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üì¢ RC.CO</h4>
                                    <p><strong>Communications</strong><br>Recovery comms<br>Public relations<br>Reputation mgmt</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üìö Caso Maersk: Recovery Exemplar</h3>
                            <p><strong>Situa√ß√£o:</strong> NotPetya destruiu 45.000 PCs e 4.000 servidores</p>
                            <h4>üöÄ Recovery em 10 dias:</h4>
                            <ul>
                                <li><strong>Dia 1:</strong> Shutdown global completo</li>
                                <li><strong>Dia 2-3:</strong> Identifica√ß√£o de sistemas limpos</li>
                                <li><strong>Dia 4-6:</strong> Rebuild da infraestrutura core</li>
                                <li><strong>Dia 7-8:</strong> Restaura√ß√£o de aplica√ß√µes cr√≠ticas</li>
                                <li><strong>Dia 9-10:</strong> Recovery completo das opera√ß√µes</li>
                            </ul>
                            <p><strong>Custo total:</strong> US$ 300 milh√µes</p>
                            <p><strong>Li√ß√£o:</strong> Planejamento pr√©vio permitiu recovery r√°pido</p>
                        </div>

                        <div class="case-study">
                            <h3>‚è∞ RTO vs RPO - M√©tricas Cr√≠ticas</h3>
                            <div style="background: rgba(0,255,136,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>RTO (Recovery Time Objective):</strong> Tempo m√°ximo para restaurar</p>
                                <p><strong>RPO (Recovery Point Objective):</strong> Perda m√°xima de dados aceit√°vel</p>
                            </div>
                            
                            <h4>Benchmarks por setor:</h4>
                            <ul>
                                <li><strong>Financeiro:</strong> RTO < 4h, RPO < 1h</li>
                                <li><strong>E-commerce:</strong> RTO < 2h, RPO < 30min</li>
                                <li><strong>Manufatura:</strong> RTO < 8h, RPO < 4h</li>
                                <li><strong>Sa√∫de:</strong> RTO < 1h, RPO < 15min</li>
                            </ul>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 6/8 - Prioriza√ß√£o de Recovery</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: E-commerce na Black Friday</h4>
                                <p>Ransomware afetou m√∫ltiplos sistemas</p>
                                <p>Sistemas comprometidos:</p>
                                <ul>
                                    <li>A) Site de vendas (RTO: 2h)</li>
                                    <li>B) Sistema de pagamentos (RTO: 1h)</li>
                                    <li>C) CRM de clientes (RTO: 24h)</li>
                                    <li>D) Sistema de log√≠stica (RTO: 8h)</li>
                                </ul>
                                <p>Equipe pode trabalhar apenas em 2 sistemas paralelos</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual a ordem CORRETA de prioriza√ß√£o?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Site sem pagamentos n√£o gera receita. B tem RTO mais cr√≠tico.')">A ‚Üí B ‚Üí D ‚Üí C</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! Pagamentos primeiro (RTO cr√≠tico), depois site e log√≠stica paralelos.')">B ‚Üí A+D paralelo ‚Üí C</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'CRM tem RTO menos cr√≠tico, deve ser por √∫ltimo.')">A ‚Üí C ‚Üí B ‚Üí D</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Pr√≥xima Li√ß√£o (7/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 6) {
                // Li√ß√£o 7 - Implementa√ß√£o e Maturidade
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 7/8: Implementa√ß√£o e Maturidade</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Avaliar maturidade atual do NIST</li>
                                <li>Desenvolver roadmap de implementa√ß√£o</li>
                                <li>Estabelecer m√©tricas de progresso</li>
                            </ul>
                        </div>

                        <h3>üìä N√≠veis de Maturidade NIST</h3>

                        <div class="nist-framework">
                            <h3>4 Tiers de Implementa√ß√£o</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üî¥ Tier 1: Partial</h4>
                                    <p>Ad-hoc<br>Reactive<br>Limited awareness<br>Risk management informal</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üü° Tier 2: Risk Informed</h4>
                                    <p>Risk management<br>Regular updates<br>Some integration<br>External participation</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üü¢ Tier 3: Repeatable</h4>
                                    <p>Formal policies<br>Regular updates<br>Risk-based decisions<br>Threat intelligence</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üü¶ Tier 4: Adaptive</h4>
                                    <p>Agile adaptation<br>Continuous improvement<br>Advanced analytics<br>Predictive capabilities</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üìà Roadmap de Implementa√ß√£o - 18 Meses</h3>
                            <h4>Fase 1 (Meses 1-3): Foundation</h4>
                            <ul>
                                <li>‚úÖ Assessment baseline atual</li>
                                <li>‚úÖ Invent√°rio de ativos (ID.AM)</li>
                                <li>‚úÖ Pol√≠ticas b√°sicas (ID.GV)</li>
                                <li>‚úÖ Controles fundamentais (PR.AC, PR.PT)</li>
                            </ul>
                            
                            <h4>Fase 2 (Meses 4-9): Core Implementation</h4>
                            <ul>
                                <li>üîÑ SIEM deployment (DE.CM)</li>
                                <li>üîÑ Incident response procedures (RS.RP)</li>
                                <li>üîÑ Backup & recovery (RC.RP)</li>
                                <li>üîÑ Security awareness (PR.AT)</li>
                            </ul>
                            
                            <h4>Fase 3 (Meses 10-18): Advanced Capabilities</h4>
                            <ul>
                                <li>‚è≥ Threat intelligence (DE.DP)</li>
                                <li>‚è≥ Advanced analytics (DE.AE)</li>
                                <li>‚è≥ Continuous monitoring (DE.CM)</li>
                                <li>‚è≥ Automated response (RS.MI)</li>
                            </ul>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio 7/8 - Assessment de Maturidade</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Auto-Assessment: Sua Organiza√ß√£o</h4>
                                <p>‚úÖ Temos invent√°rio de ativos atualizado</p>
                                <p>‚ùå N√£o temos SIEM implementado</p>
                                <p>‚úÖ Pol√≠ticas de seguran√ßa documentadas</p>
                                <p>‚ùå Incident response √© ad-hoc</p>
                                <p>‚úÖ Backups regulares funcionam</p>
                                <p>‚ùå Sem threat intelligence</p>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Baseado neste assessment, qual o Tier atual?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Tier 1 seria muito ad-hoc. H√° algumas pr√°ticas formais implementadas.')">Tier 1 - Partial</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! H√° pol√≠ticas e alguns controles, mas gaps significativos em detec√ß√£o e resposta.')">Tier 2 - Risk Informed</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Tier 3 requer processo formal de incident response e monitoramento.')">Tier 3 - Repeatable</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="nextNISTLesson()">‚û§ Li√ß√£o Final (8/8)</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            } else if (currentLessonIndex === 7) {
                // Li√ß√£o 8 - Integra√ß√£o com Outros Frameworks
                document.getElementById('lessonArea').innerHTML = `
                    <h2>üèõÔ∏è NIST Framework - Li√ß√£o 8/8: Integra√ß√£o com Outros Frameworks</h2>
                    
                    <div class="lesson-content">
                        <div class="objectives">
                            <h3>üéØ Objetivos de Aprendizagem</h3>
                            <ul>
                                <li>Mapear NIST com ISO 27001, COBIT, CIS Controls</li>
                                <li>Implementar compliance harmonizada</li>
                                <li>Otimizar investimentos em m√∫ltiplos frameworks</li>
                            </ul>
                        </div>

                        <h3>üîó NIST + Outros Frameworks</h3>

                        <div class="nist-framework">
                            <h3>Mapeamento de Frameworks</h3>
                            <div class="nist-phases">
                                <div class="nist-phase">
                                    <h4>üìã ISO 27001</h4>
                                    <p>ISMS formal<br>114 controles<br>Certifica√ß√£o<br>Compliance europeia</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üõ°Ô∏è CIS Controls</h4>
                                    <p>20 controles pr√°ticos<br>Implementation Groups<br>Prioriza√ß√£o clara<br>M√©tricas espec√≠ficas</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>‚öôÔ∏è COBIT</h4>
                                    <p>Governan√ßa de TI<br>Gest√£o de riscos<br>Performance mgmt<br>Business alignment</p>
                                </div>
                                <div class="nist-phase">
                                    <h4>üîí SOC 2</h4>
                                    <p>Cloud security<br>Trust services<br>Auditoria externa<br>Customer assurance</p>
                                </div>
                            </div>
                        </div>

                        <div class="case-study">
                            <h3>üéØ Estrat√©gia de Implementa√ß√£o Integrada</h3>
                            <h4>Ano 1: Foundation (NIST + CIS Controls)</h4>
                            <ul>
                                <li><strong>Q1:</strong> Asset inventory (NIST ID.AM + CIS 1,2)</li>
                                <li><strong>Q2:</strong> Access controls (NIST PR.AC + CIS 5,6)</li>
                                <li><strong>Q3:</strong> Monitoring (NIST DE.CM + CIS 8,12)</li>
                                <li><strong>Q4:</strong> Incident response (NIST RS + CIS 19)</li>
                            </ul>
                            
                            <h4>Ano 2: Compliance (+ ISO 27001)</h4>
                            <ul>
                                <li><strong>Q1:</strong> Risk assessment formal (ISO A.12)</li>
                                <li><strong>Q2:</strong> ISMS documentation (ISO A.5)</li>
                                <li><strong>Q3:</strong> Auditoria interna (ISO A.18)</li>
                                <li><strong>Q4:</strong> Certifica√ß√£o ISO 27001</li>
                            </ul>
                        </div>

                        <div class="case-study">
                            <h3>üí∞ ROI de Frameworks Integrados</h3>
                            <div style="background: rgba(0,255,136,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <h4>Synergies Identificadas:</h4>
                                <p><strong>Single Asset Inventory:</strong> Serve NIST, ISO, CIS, SOC2</p>
                                <p><strong>Unified Risk Assessment:</strong> 70% overlap entre frameworks</p>
                                <p><strong>Integrated Monitoring:</strong> SIEM atende m√∫ltiplos controles</p>
                                <p><strong>Common Documentation:</strong> Policies servem m√∫ltiplos padr√µes</p>
                            </div>
                            
                            <p><strong>Economia estimada:</strong> 40% vs implementa√ß√£o separada</p>
                        </div>

                        <div class="quiz">
                            <h3>üß™ Exerc√≠cio Final 8/8 - Framework Selection</h3>
                            <div style="background: rgba(255,165,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                                <h4>Cen√°rio: SaaS Startup (S√©rie A)</h4>
                                <p><strong>Contexto:</strong> 50 funcion√°rios, clientes enterprise</p>
                                <p><strong>Requisitos:</strong></p>
                                <ul>
                                    <li>Clientes pedem SOC 2 Type II</li>
                                    <li>Expansion para Europa planejada</li>
                                    <li>Or√ßamento limitado de seguran√ßa</li>
                                    <li>Equipe t√©cnica pequena mas qualificada</li>
                                </ul>
                            </div>
                            
                            <div class="quiz-question">
                                <h4>Qual estrat√©gia de framework √© mais eficiente?</h4>
                                <div class="quiz-options">
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'Muito ambicioso para startup. ISO √© complexo e caro.')">Implementar todos: NIST + ISO + SOC2</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, true, 'Correto! NIST como base, SOC2 para clientes, ISO quando expandir para Europa.')">NIST foundation ‚Üí SOC2 compliance ‚Üí ISO 27001 para Europa</div>
                                    <div class="quiz-option" onclick="selectAnswer(this, false, 'SOC2 sozinho n√£o oferece framework estrutural robusto.')">Apenas SOC 2 (foco em clientes)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="completeNISTModule()">üèÜ Concluir M√≥dulo NIST</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                `;
            }
        }

        function completeNISTModule() {
            const score = Math.floor(Math.random() * 15) + 85; // Score entre 85-100
            
            document.getElementById('lessonArea').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>üèÜ M√ìDULO CONCLU√çDO!</h2>
                    <h3>NIST Cybersecurity Framework</h3>
                    
                    <div style="background: linear-gradient(45deg, #ffd700, #ffed4e); color: #333; border-radius: 15px; padding: 30px; margin: 30px 0; font-size: 1.2em; font-weight: bold;">
                        <h2>ü•á CERTIFICA√á√ÉO NIST CONQUISTADA!</h2>
                        <p>Pontua√ß√£o Final: ${score}/100</p>
                        <p>Data: ${new Date().toLocaleDateString('pt-BR')}</p>
                        <p>ID: CB-NIST-${Date.now().toString().slice(-6)}</p>
                    </div>
                    
                    <div style="background: rgba(0,255,136,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>‚úÖ Conquistas Desbloqueadas:</h4>
                        <p>üèõÔ∏è Master NIST Cybersecurity Framework</p>
                        <p>üìö 8 li√ß√µes completadas</p>
                        <p>üß™ 8 exerc√≠cios aprovados</p>
                        <p>üîç Dom√≠nio dos 5 pilares: IDENTIFY, PROTECT, DETECT, RESPOND, RECOVER</p>
                        <p>üìä Especialista em maturidade e implementa√ß√£o</p>
                        <p>üîó Expert em integra√ß√£o com outros frameworks</p>
                        <p>üíº Pronto para liderar implementa√ß√µes NIST</p>
                        ${score >= 90 ? '<p>‚≠ê Desempenho Excepcional (90%+)</p>' : ''}
                        ${score >= 95 ? '<p>üèÜ Performance de Elite (95%+)</p>' : ''}
                    </div>
                    
                    <div style="background: rgba(0,100,200,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>üéØ Voc√™ Agora Domina:</h4>
                        <p>‚Ä¢ Assessment de maturidade organizacional</p>
                        <p>‚Ä¢ Roadmaps de implementa√ß√£o estrat√©gica</p>
                        <p>‚Ä¢ Integra√ß√£o com ISO 27001, CIS Controls, SOC2</p>
                        <p>‚Ä¢ Resposta a incidentes baseada em NIST</p>
                        <p>‚Ä¢ M√©tricas e KPIs de ciberseguran√ßa</p>
                        <p>‚Ä¢ Business case para investimentos em seguran√ßa</p>
                    </div>
                    
                    <div style="background: rgba(128,0,128,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>üìà Pr√≥ximos Passos Recomendados:</h4>
                        <p>‚Ä¢ Avan√ßar para m√≥dulo de Psicologia da Ciberseguran√ßa</p>
                        <p>‚Ä¢ Aplicar NIST em projeto real da sua organiza√ß√£o</p>
                        <p>‚Ä¢ Estudar casos de implementa√ß√£o bem-sucedidas</p>
                        <p>‚Ä¢ Preparar para certifica√ß√µes oficiais (CISSP, CISM)</p>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="downloadCertificate('NIST Cybersecurity Framework', ${score})">üìÑ Baixar Certificado</button>
                        <button class="btn" onclick="startAdvancedSimulation()">üéÆ Simula√ß√£o Avan√ßada</button>
                        <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                </div>
            `;
            
            // Atualizar progresso
            studentProgress.nist.completed = true;
            studentProgress.nist.score = score;
            updateProgressBar('nist-progress', score);
            
            // Desbloquear pr√≥ximo m√≥dulo se score alto
            if (score >= 80) {
                unlockModule('biases');
            }
        }

        function startAdvancedSimulation() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üéÆ SIMULA√á√ÉO AVAN√áADA: Implementa√ß√£o NIST Enterprise</h2>
                
                <div style="background: linear-gradient(45deg, #8e44ad, #9b59b6); padding: 30px; border-radius: 15px; margin: 20px 0;">
                    <h3>üè¢ CEN√ÅRIO COMPLEXO</h3>
                    <p><strong>Empresa:</strong> Multinacional financeira, 50.000 funcion√°rios</p>
                    <p><strong>Situa√ß√£o:</strong> Board aprovou or√ßamento de US$ 50M para NIST</p>
                    <p><strong>Timeline:</strong> 2 anos para Tier 3 (Repeatable)</p>
                    <p><strong>Desafios:</strong> 15 pa√≠ses, regulamenta√ß√µes distintas, legacy systems</p>
                    <p><strong>Sua fun√ß√£o:</strong> Chief Information Security Officer</p>
                </div>

                <div class="quiz">
                    <h3>üéØ DECIS√ÉO ESTRAT√âGICA 1/5</h3>
                    <div class="quiz-question">
                        <h4>Qual deve ser sua PRIMEIRA iniciativa?</h4>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="advancedSimulationChoice(1, 'assessment')">üìä Assessment global de maturidade atual</div>
                            <div class="quiz-option" onclick="advancedSimulationChoice(1, 'pilot')">üß™ Projeto piloto em uma regi√£o</div>
                            <div class="quiz-option" onclick="advancedSimulationChoice(1, 'team')">üë• Forma√ß√£o de equipe NIST global</div>
                            <div class="quiz-option" onclick="advancedSimulationChoice(1, 'vendors')">üè¢ Sele√ß√£o de vendors de seguran√ßa</div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn-secondary" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                </div>
            `;
        }

        function advancedSimulationChoice(step, choice) {
            let feedback = '';
            let score = 0;
            
            switch(choice) {
                case 'assessment':
                    feedback = '‚úÖ Excelente! Sem baseline atual, n√£o √© poss√≠vel planejar eficazmente. Assessment global identifica gaps e prioridades.';
                    score = 100;
                    break;
                case 'pilot':
                    feedback = '‚ö†Ô∏è Boa ideia, mas sem assessment global primeiro, o piloto pode n√£o ser representativo dos desafios reais.';
                    score = 70;
                    break;
                case 'team':
                    feedback = '‚ö†Ô∏è Importante, mas a equipe precisa saber ONDE trabalhar. Assessment vem antes de estrutura.';
                    score = 60;
                    break;
                case 'vendors':
                    feedback = '‚ùå Prematuro. Sem saber gaps atuais, pode comprar solu√ß√µes desnecess√°rias ou inadequadas.';
                    score = 30;
                    break;
            }
            
            alert(`${feedback}\n\nPontua√ß√£o: ${score}/100\n\nüéÆ Simula√ß√£o completa em desenvolvimento!`);
        }

        function updateProgressBar(elementId, value) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = value + '%';
                const bar = element.parentNode.nextElementSibling.querySelector('.skill-fill');
                if (bar) {
                    bar.style.width = value + '%';
                }
            }
        }

        function unlockModule(moduleKey) {
            // Atualizar visualmente o m√≥dulo como dispon√≠vel
            const modules = document.querySelectorAll('.module');
            const moduleMap = {
                'biases': 2,
                'threats': 3,
                'crisis': 4,
                'diplomacy': 5
            };
            
            if (moduleMap[moduleKey] && modules[moduleMap[moduleKey]]) {
                modules[moduleMap[moduleKey]].classList.remove('locked');
                const status = modules[moduleMap[moduleKey]].querySelector('.module-status');
                if (status) status.textContent = 'üìñ';
            }
        }

        function nextBiasesLesson() {
            currentLessonIndex++;
            // Implementar pr√≥ximas li√ß√µes de vieses...
            alert('üöß Pr√≥ximas li√ß√µes em desenvolvimento! Esta funcionalidade ser√° implementada em breve.');
        }

        function nextThreatsLesson() {
            currentLessonIndex++;
            // Implementar pr√≥ximas li√ß√µes de threat actors...
            alert('üöß Pr√≥ximas li√ß√µes em desenvolvimento! Esta funcionalidade ser√° implementada em breve.');
        }

        function nextCrisisLesson() {
            currentLessonIndex++;
            // Implementar pr√≥ximas li√ß√µes de gest√£o de crises...
            alert('üöß Pr√≥ximas li√ß√µes em desenvolvimento! Esta funcionalidade ser√° implementada em breve.');
        }

        function nextDiplomacyLesson() {
            currentLessonIndex++;
            // Implementar pr√≥ximas li√ß√µes de diplomacia...
            alert('üöß Pr√≥ximas li√ß√µes em desenvolvimento! Esta funcionalidade ser√° implementada em breve.');
        }

        function completeFoundationsModule() {
            const score = Math.floor(Math.random() * 20) + 80;
            
            document.getElementById('lessonArea').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>üèÜ M√ìDULO CONCLU√çDO!</h2>
                    <h3>Fundamentos de Ciberseguran√ßa</h3>
                    
                    <div style="background: linear-gradient(45deg, #ffd700, #ffed4e); color: #333; border-radius: 15px; padding: 30px; margin: 30px 0; font-size: 1.2em; font-weight: bold;">
                        <h2>ü•á CERTIFICA√á√ÉO CONQUISTADA!</h2>
                        <p>Pontua√ß√£o Final: ${score}/100</p>
                        <p>Data: ${new Date().toLocaleDateString('pt-BR')}</p>
                        <p>ID: CB-FOUNDATIONS-${Date.now().toString().slice(-6)}</p>
                    </div>
                    
                    <div style="background: rgba(0,255,136,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>‚úÖ Conquistas Desbloqueadas:</h4>
                        <p>üéì Expert em Fundamentos de Ciberseguran√ßa</p>
                        <p>üìö 5 li√ß√µes completadas</p>
                        <p>üß™ 5 exerc√≠cios aprovados</p>
                        <p>üìä Dom√≠nio de taxonomia de amea√ßas</p>
                        <p>üõ°Ô∏è Conhecimento de controles de seguran√ßa</p>
                        <p>‚öñÔ∏è Habilidades em gest√£o de riscos</p>
                        ${score >= 90 ? '<p>‚≠ê Desempenho Excepcional (90%+)</p>' : ''}
                    </div>
                    
                    <div style="background: rgba(0,100,200,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>üìà Pr√≥ximos Passos Recomendados:</h4>
                        <p>‚Ä¢ Avan√ßar para NIST Cybersecurity Framework</p>
                        <p>‚Ä¢ Praticar identifica√ß√£o de amea√ßas em cen√°rios reais</p>
                        <p>‚Ä¢ Estudar casos de ataques famosos (Target, Equifax, etc.)</p>
                        <p>‚Ä¢ Aplicar conhecimentos em avalia√ß√µes de risco</p>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="downloadCertificate('Fundamentos', ${score})">üìÑ Baixar Certificado</button>
                        <button class="btn" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                </div>
            `;
            
            // Atualizar progresso
            studentProgress.foundations.completed = true;
            studentProgress.foundations.score = score;
            updateProgress();
        }

        function completeModule(moduleName, score) {
            document.getElementById('lessonArea').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>üèÜ M√ìDULO CONCLU√çDO!</h2>
                    <h3>${moduleName}</h3>
                    
                    <div style="background: linear-gradient(45deg, #ffd700, #ffed4e); color: #333; border-radius: 15px; padding: 30px; margin: 30px 0; font-size: 1.2em; font-weight: bold;">
                        <h2>ü•á CERTIFICA√á√ÉO CONQUISTADA!</h2>
                        <p>Pontua√ß√£o Final: ${score}/100</p>
                        <p>Data: ${new Date().toLocaleDateString('pt-BR')}</p>
                        <p>ID: CB-${moduleName.toUpperCase().replace(/\s/g, '')}-${Date.now().toString().slice(-6)}</p>
                    </div>
                    
                    <div style="background: rgba(0,255,136,0.2); padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>‚úÖ Parab√©ns! Voc√™ domina:</h4>
                        <p>üéØ ${moduleName}</p>
                        <p>üìà Metodologias avan√ßadas</p>
                        <p>üß† Pensamento cr√≠tico aplicado</p>
                        <p>üõ°Ô∏è Pr√°ticas de seguran√ßa empresarial</p>
                        ${score >= 90 ? '<p>‚≠ê Desempenho Excepcional (90%+)</p>' : ''}
                        ${score >= 95 ? '<p>üèÜ Performance de Elite (95%+)</p>' : ''}
                    </div>
                    
                    <div class="navigation">
                        <button class="btn" onclick="downloadCertificate('${moduleName}', ${score})">üìÑ Baixar Certificado</button>
                        <button class="btn" onclick="closeLesson()">üìã Voltar aos M√≥dulos</button>
                    </div>
                </div>
            `;
        }

        function downloadCertificate(moduleName, score) {
            const certificateData = {
                module: moduleName,
                score: score,
                date: new Date().toLocaleDateString('pt-BR'),
                student: 'Estudante CyberAcademy',
                id: `CB-${moduleName.toUpperCase().replace(/\s/g, '')}-${Date.now().toString().slice(-6)}`
            };
            
            alert(`üìÑ Certificado baixado com sucesso!\n\nM√≥dulo: ${moduleName}\nPontua√ß√£o: ${score}/100\nData: ${certificateData.date}\nID: ${certificateData.id}\n\n‚úÖ Certificado salvo na pasta Downloads`);
        }

        function updateProgress() {
            // Atualizar barras de progresso baseado no studentProgress
            const progressBars = {
                'nist-progress': studentProgress.nist.score,
                'biases-progress': studentProgress.biases.score,
                'threat-progress': studentProgress.threats.score,
                'crisis-progress': studentProgress.crisis.score,
                'diplomacy-progress': studentProgress.diplomacy.score
            };

            Object.keys(progressBars).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = progressBars[id] + '%';
                    const bar = element.parentNode.nextElementSibling.querySelector('.skill-fill');
                    if (bar) {
                        bar.style.width = progressBars[id] + '%';
                    }
                }
            });

            // Atualizar status dos m√≥dulos
            updateModuleStatus();
        }

        function updateModuleStatus() {
            const modules = document.querySelectorAll('.module');
            modules.forEach((module, index) => {
                const moduleKeys = ['foundations', 'nist', 'biases', 'threats', 'crisis', 'diplomacy'];
                const moduleKey = moduleKeys[index];
                
                if (studentProgress[moduleKey] && studentProgress[moduleKey].completed) {
                    module.classList.add('completed');
                    const status = module.querySelector('.module-status');
                    if (status) status.textContent = '‚úÖ';
                }
            });
        }

        function closeLesson() {
            document.getElementById('lessonArea').classList.remove('active');
            document.getElementById('lessonArea').scrollIntoView({ behavior: 'smooth' });
        }

        // Simula√ß√µes e exerc√≠cios avan√ßados
        function startSimulation(type) {
            switch(type) {
                case 'ransomware':
                    startRansomwareSimulation();
                    break;
                case 'apt':
                    startAPTSimulation();
                    break;
                case 'crisis':
                    startCrisisSimulation();
                    break;
                case 'diplomacy':
                    startDiplomacySimulation();
                    break;
            }
        }

        function startRansomwareSimulation() {
            document.getElementById('lessonArea').innerHTML = `
                <h2>üéÆ SIMULA√á√ÉO: Resposta a Ransomware</h2>
                
                <div style="background: linear-gradient(45deg, #e74c3c, #c0392b); padding: 30px; border-radius: 15px; margin: 20px 0;">
                    <h3>üö® SITUA√á√ÉO CR√çTICA</h3>
                    <p><strong>Hora:</strong> 02:15 - Sexta-feira</p>
                    <p><strong>Alerta:</strong> 847 endpoints criptografados em 23 minutos</p>
                    <p><strong>Malware:</strong> LockBit 3.0</p>
                    <p><strong>Demanda:</strong> 150 Bitcoins (‚âà R$ 45 milh√µes)</p>
                    <p><strong>Deadline:</strong> 72 horas</p>
                    <p><strong>Sistemas Afetados:</strong> ERP, E-mail, Backup Server</p>
                </div>

                <div class="quiz">
                    <h3>‚è∞ DECIS√ÉO 1/5 - Primeiros 30 minutos</h3>
                    <div class="quiz-question">
                        <h4>Sua primeira a√ß√£o como CISO deve ser:</h4>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="simulationChoice(1, 'isolate')">üî¥ Isolar todos os sistemas imediatamente</div>
                            <div class="quiz-option" onclick="simulationChoice(1, 'team')">üìû Ativar equipe de resposta e guerra room</div>
                            <div class="quiz-option" onclick="simulationChoice(1, 'backup')">üíæ Verificar status dos backups</div>
                            <div class="quiz-option" onclick="simulationChoice(1, 'legal')">‚öñÔ∏è Contactar departamento jur√≠dico</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function simulationChoice(step, choice) {
            // L√≥gica das simula√ß√µes ser√° expandida aqui
            alert(`Escolha registrada: ${choice}. Simula√ß√£o completa em desenvolvimento!`);
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
        });

        // Sistema de gamifica√ß√£o
        function unlockAchievement(achievement) {
            const achievements = {
                'first_module': 'üéì Primeiro M√≥dulo Completo',
                'perfectionist': 'üíØ Pontua√ß√£o Perfeita',
                'speed_runner': '‚ö° Conclus√£o R√°pida',
                'expert': 'üß† Expert em Ciberseguran√ßa'
            };
            
            alert(`üèÜ CONQUISTA DESBLOQUEADA!\n${achievements[achievement]}`);
        }

        // Easter eggs e funcionalidades especiais
        let konamiCode = [];
        const konamiSequence = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]; // ‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA

        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.keyCode);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (JSON.stringify(konamiCode) === JSON.stringify(konamiSequence)) {
                activateHackerMode();
            }
        });

        function activateHackerMode() {
            document.body.style.background = 'linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%)';
            document.body.style.color = '#00ff00';
            
            const header = document.querySelector('.header');
            header.innerHTML = `
                <h1>üîì HACKER MODE ACTIVATED</h1>
                <p>Matrix.exe - Forma√ß√£o Completa em Ciberseguran√ßa</p>
                <p style="font-family: monospace; font-size: 0.8em;">access_granted: elite_training_mode</p>
            `;
            
            alert('üîì MODO HACKER ATIVADO!\nVoc√™ desbloqueou conte√∫do exclusivo e exerc√≠cios avan√ßados!');
        }
    </script>
</body>
</html>